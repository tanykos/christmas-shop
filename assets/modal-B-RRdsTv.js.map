{"version":3,"file":"modal-B-RRdsTv.js","sources":["../../js/modal.js"],"sourcesContent":["import { getGiftByName } from './api.js'\nimport { transformStringToKebab } from './utils.js';\n\nlet modalOverlay;\nlet modal;\n\nexport default async function showModal(card) {\n  const cardName = card.querySelector('.card-name').textContent.trim();\n  const cardData = await getGiftByName(cardName);\n\n  modalOverlay = document.createElement('div');\n  modalOverlay.className = 'modal-overlay';\n  modalOverlay.addEventListener('click', closeOutside);\n\n  modal = createModal(cardData);\n\n  modal.querySelector('.modal-close').addEventListener('click', closeModal);\n\n  modalOverlay.appendChild(modal);\n  document.body.appendChild(modalOverlay);\n\n  modalOverlay.style.display = 'flex';\n  document.body.style.overflow = 'hidden';\n};\n\nconst closeOutside = (e) => {\n  const dialogSize = modal.getBoundingClientRect()\n\n  if (\n    e.clientX < dialogSize.left ||\n    e.clientX > dialogSize.right ||\n    e.clientY < dialogSize.top ||\n    e.clientY > dialogSize.bottom\n  ) {\n    closeModal();\n  }\n}\n\nconst closeModal = () => {\n  modalOverlay.style.display = 'none';\n  modalOverlay.remove();\n  document.body.style.overflow = '';\n};\n\nfunction createModal(card) {\n  const cardElement = document.createElement('div');\n  cardElement.classList.add('card', 'card-modal');\n\n  const categoryName = transformStringToKebab(card.category);\n  const imgSrc = `./images/gift-${categoryName}.png`;\n\n  cardElement.innerHTML = `\n    <button class=\"modal-close\" aria-label=\"Close Modal\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\">\n        <path d=\"M30 10L10 30\" stroke=\"#181C29\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n        <path d=\"M10 10L30 30\" stroke=\"#181C29\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n      </svg>\n    </button>\n    <div class=\"card-img\">\n      <img class=\"prodact-img\" src=${imgSrc} alt=${card.name}>\n    </div>\n    <div class=\"card-text\">\n      <div class=\"card-category ${categoryName}\">${card.category}</div>\n      <h3 class=\"heading-3 card-name-modal\">${card.name}</h3>\n      <p class=\"description paragraph\">${card.description}</p>\n\n      <div class=\"superpowers-wrap\">\n      <h4 class=\"heading-4\">Adds superpowers to:</h3>\n      <div class=\"rates\"></div>\n    </div>\n    </div>\n    `;\n\n    const powersElement = cardElement.querySelector('.rates');\n\n    Object.entries(card.superpowers).forEach(([power, value]) => {\n      const powerAmount = Number(value.replace(\"+\", \"\")) / 100;\n      const powerRow = document.createElement('div');\n      powerRow.classList.add('power-row');\n      powerRow.id = power;\n      powerRow.innerHTML = `\n        <span class=\"power\">${power}</span>\n        <span class=\"power-value\">\n          ${value}\n          <span class=\"flakes\"></span>\n        </span>\n      `;\n\n      powersElement.appendChild(powerRow);\n\n      const rowElement = cardElement.querySelector(`#${power}`);\n      const flakesElement = rowElement.querySelector('.flakes');\n\n      for (let i = 1; i <= 5; i++) {\n        const flakeElement = document.createElement('span');\n\n        if (i <= powerAmount) {\n          flakeElement.innerHTML= `\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n              <g clip-path=\"url(#clip0_15134_26)\">\n              <path d=\"M12.1959 9.88162L11.6482 9.56542L13.1158 9.17219L12.8732 8.26704L10.5005 8.90278L9.38146 8.25667C9.39689 8.17336 9.40538 8.08765 9.40538 7.99997C9.40538 7.91229 9.39692 7.82655 9.38146 7.74327L10.5005 7.09716L12.8732 7.7329L13.1158 6.82775L11.6482 6.43452L12.1959 6.11831L14.546 5.97725L14.8921 4.02063L13.0246 3.34203L11.7274 5.30677L11.1797 5.62297L11.5729 4.15545L10.6678 3.91293L10.032 6.28561L8.91226 6.93211C8.78247 6.82103 8.63242 6.73313 8.4683 6.67494V5.3828L10.2052 3.64586L9.5426 2.98325L8.46827 4.05755V3.42515L9.51792 1.32584L7.99976 0L6.48157 1.3259L7.53122 3.42521V4.05761L6.45689 2.98332L5.79429 3.64592L7.53119 5.38286V6.675C7.36708 6.73319 7.21702 6.82109 7.08724 6.93217L5.96746 6.28568L5.33171 3.91299L4.42656 4.15551L4.81979 5.62304L4.27213 5.30684L2.9749 3.34209L1.10742 4.02069L1.45349 5.97731L3.80362 6.11838L4.35128 6.43458L2.88375 6.82781L3.1263 7.73296L5.49898 7.09722L6.61807 7.74333C6.60264 7.82664 6.59414 7.91235 6.59414 8.00003C6.59414 8.08771 6.60261 8.17345 6.61807 8.25673L5.49898 8.90285L3.1263 8.2671L2.88375 9.17226L4.35128 9.56548L3.80362 9.88169L1.45349 10.0227L1.10742 11.9793L2.97493 12.6579L4.27216 10.6932L4.81985 10.377L4.42662 11.8445L5.33177 12.087L5.96752 9.71435L7.0873 9.06786C7.21708 9.17894 7.36714 9.26684 7.53125 9.32503V10.6172L5.79435 12.3541L6.45696 13.0167L7.53129 11.9424V12.5748L6.48163 14.6741L7.99983 16L9.51802 14.6741L8.46837 12.5748V11.9424L9.5427 13.0167L10.2053 12.3541L8.4684 10.6172V9.32503C8.63251 9.26684 8.78257 9.17894 8.91235 9.06786L10.0321 9.71435L10.6679 12.087L11.573 11.8445L11.1798 10.377L11.7275 10.6932L13.0247 12.6579L14.8922 11.9793L14.5462 10.0227L12.1959 9.88162Z\" fill=\"#FF4646\"/>\n              </g>\n              <defs>\n              <clipPath id=\"clip0_15134_26\">\n              <rect width=\"16\" height=\"16\" fill=\"white\"/>\n              </clipPath>\n              </defs>\n            </svg>\n          `;\n        } else {\n          flakeElement.innerHTML= `\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\n              <g clip-path=\"url(#clip0_15134_58)\">\n              <path d=\"M12.1959 9.88162L11.6482 9.56542L13.1158 9.17219L12.8732 8.26704L10.5005 8.90278L9.38146 8.25667C9.39689 8.17336 9.40538 8.08765 9.40538 7.99997C9.40538 7.91229 9.39692 7.82655 9.38146 7.74327L10.5005 7.09716L12.8732 7.7329L13.1158 6.82775L11.6482 6.43452L12.1959 6.11831L14.546 5.97725L14.8921 4.02063L13.0246 3.34203L11.7274 5.30677L11.1797 5.62297L11.5729 4.15545L10.6678 3.91293L10.032 6.28561L8.91226 6.93211C8.78247 6.82103 8.63242 6.73313 8.4683 6.67494V5.3828L10.2052 3.64586L9.5426 2.98325L8.46827 4.05755V3.42515L9.51792 1.32584L7.99976 0L6.48157 1.3259L7.53122 3.42521V4.05761L6.45689 2.98332L5.79429 3.64592L7.53119 5.38286V6.675C7.36708 6.73319 7.21702 6.82109 7.08724 6.93217L5.96746 6.28568L5.33171 3.91299L4.42656 4.15551L4.81979 5.62304L4.27213 5.30684L2.9749 3.34209L1.10742 4.02069L1.45349 5.97731L3.80362 6.11838L4.35128 6.43458L2.88375 6.82781L3.1263 7.73296L5.49898 7.09722L6.61807 7.74333C6.60264 7.82664 6.59414 7.91235 6.59414 8.00003C6.59414 8.08771 6.60261 8.17345 6.61807 8.25673L5.49898 8.90285L3.1263 8.2671L2.88375 9.17226L4.35128 9.56548L3.80362 9.88169L1.45349 10.0227L1.10742 11.9793L2.97493 12.6579L4.27216 10.6932L4.81985 10.377L4.42662 11.8445L5.33177 12.087L5.96752 9.71435L7.0873 9.06786C7.21708 9.17894 7.36714 9.26684 7.53125 9.32503V10.6172L5.79435 12.3541L6.45696 13.0167L7.53129 11.9424V12.5748L6.48163 14.6741L7.99983 16L9.51802 14.6741L8.46837 12.5748V11.9424L9.5427 13.0167L10.2053 12.3541L8.4684 10.6172V9.32503C8.63251 9.26684 8.78257 9.17894 8.91235 9.06786L10.0321 9.71435L10.6679 12.087L11.573 11.8445L11.1798 10.377L11.7275 10.6932L13.0247 12.6579L14.8922 11.9793L14.5462 10.0227L12.1959 9.88162Z\" fill=\"#FF4646\" fill-opacity=\"0.1\"/>\n              </g>\n              <defs>\n              <clipPath id=\"clip0_15134_58\">\n              <rect width=\"16\" height=\"16\" fill=\"white\"/>\n              </clipPath>\n              </defs>\n            </svg>\n          `;\n        }\n\n        flakesElement.appendChild(flakeElement);\n      }\n    })\n\n  return cardElement;\n}\n"],"names":["modalOverlay","modal","showModal","card","cardName","cardData","getGiftByName","closeOutside","createModal","closeModal","dialogSize","cardElement","categoryName","transformStringToKebab","imgSrc","powersElement","power","value","powerAmount","powerRow","flakesElement","flakeElement"],"mappings":"+GAGA,IAAIA,EACAC,EAEW,eAAeC,EAAUC,EAAM,CAC5C,MAAMC,EAAWD,EAAK,cAAc,YAAY,EAAE,YAAY,KAAM,EAC9DE,EAAW,MAAMC,EAAcF,CAAQ,EAE7CJ,EAAe,SAAS,cAAc,KAAK,EAC3CA,EAAa,UAAY,gBACzBA,EAAa,iBAAiB,QAASO,CAAY,EAEnDN,EAAQO,EAAYH,CAAQ,EAE5BJ,EAAM,cAAc,cAAc,EAAE,iBAAiB,QAASQ,CAAU,EAExET,EAAa,YAAYC,CAAK,EAC9B,SAAS,KAAK,YAAYD,CAAY,EAEtCA,EAAa,MAAM,QAAU,OAC7B,SAAS,KAAK,MAAM,SAAW,QACjC,CAEA,MAAMO,EAAgB,GAAM,CAC1B,MAAMG,EAAaT,EAAM,sBAAqB,GAG5C,EAAE,QAAUS,EAAW,MACvB,EAAE,QAAUA,EAAW,OACvB,EAAE,QAAUA,EAAW,KACvB,EAAE,QAAUA,EAAW,SAEvBD,EAAY,CAEhB,EAEMA,EAAa,IAAM,CACvBT,EAAa,MAAM,QAAU,OAC7BA,EAAa,OAAQ,EACrB,SAAS,KAAK,MAAM,SAAW,EACjC,EAEA,SAASQ,EAAYL,EAAM,CACzB,MAAMQ,EAAc,SAAS,cAAc,KAAK,EAChDA,EAAY,UAAU,IAAI,OAAQ,YAAY,EAE9C,MAAMC,EAAeC,EAAuBV,EAAK,QAAQ,EACnDW,EAAS,iBAAiBF,CAAY,OAE5CD,EAAY,UAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAQWG,CAAM,QAAQX,EAAK,IAAI;AAAA;AAAA;AAAA,kCAG1BS,CAAY,KAAKT,EAAK,QAAQ;AAAA,8CAClBA,EAAK,IAAI;AAAA,yCACdA,EAAK,WAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MASrD,MAAMY,EAAgBJ,EAAY,cAAc,QAAQ,EAExD,cAAO,QAAQR,EAAK,WAAW,EAAE,QAAQ,CAAC,CAACa,EAAOC,CAAK,IAAM,CAC3D,MAAMC,EAAc,OAAOD,EAAM,QAAQ,IAAK,EAAE,CAAC,EAAI,IAC/CE,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,UAAU,IAAI,WAAW,EAClCA,EAAS,GAAKH,EACdG,EAAS,UAAY;AAAA,8BACGH,CAAK;AAAA;AAAA,YAEvBC,CAAK;AAAA;AAAA;AAAA,QAKXF,EAAc,YAAYI,CAAQ,EAGlC,MAAMC,EADaT,EAAY,cAAc,IAAIK,CAAK,EAAE,EACvB,cAAc,SAAS,EAExD,QAAS,EAAI,EAAG,GAAK,EAAG,IAAK,CAC3B,MAAMK,EAAe,SAAS,cAAc,MAAM,EAE9C,GAAKH,EACPG,EAAa,UAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAaxBA,EAAa,UAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAc1BD,EAAc,YAAYC,CAAY,CAC9C,CACK,CAAA,EAEIV,CACT"}