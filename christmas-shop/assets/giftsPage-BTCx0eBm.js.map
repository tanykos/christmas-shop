{"version":3,"file":"giftsPage-BTCx0eBm.js","sources":["../../js/giftsPage.js"],"sourcesContent":["import appendCards from './cards.js';\nimport  { getGifts } from './api.js';\nimport { transformStringToKebab } from './utils.js';\nimport showModal from './modal.js';\n\nconst giftsContainer = document.querySelector('#gifts-container');\nconst toTopButton = document.getElementById('to-top');\nlet navCategory;\nlet cardsData;\n\nasync function initGiftsPage() {\n  cardsData = await getGifts();\n\n  appendCards(giftsContainer, cardsData);\n\n  navCategory = document.querySelector('#nav-category');\n  navCategory.addEventListener('click', onClickCategory);\n\n  if (window.scrollY < 300) {\n    toTopButton.style.display = 'none';\n  }\n\n  window.addEventListener('scroll', () => {\n    if (window.innerWidth <= 768) {\n      if (window.scrollY > 300) {\n        toTopButton.style.display = 'block';\n      } else {\n        toTopButton.style.display = 'none';\n      }\n    }\n  });\n\n  window.addEventListener('resize', () => {\n    if (window.scrollY < 300) {\n      toTopButton.style.display = 'none';\n    }\n  });\n\n  toTopButton.addEventListener('click', () => {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  });\n};\n\nif (giftsContainer) {\n  initGiftsPage();\n  giftsContainer.addEventListener('click', onClickCard);\n}\n\nfunction onClickCard(event) {\n  const card = event.target.closest('.card');\n  if (card.dataset.modal === 'card-item') {\n    showModal(card);\n  }\n}\n\nconst onClickCategory = (event) => {\n  const clickedElement = event.target;\n\n  if (clickedElement.tagName !== 'LI') return;\n\n  const categoryId = clickedElement.id;\n\n  const filteredData = categoryId === 'all' \n    ? cardsData\n    : cardsData.filter(item => transformStringToKebab(item.category) === categoryId);\n\n  document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));\n  clickedElement.classList.add('active');\n\n  giftsContainer.innerHTML = '';\n  appendCards(giftsContainer, filteredData);\n};\n"],"names":["giftsContainer","toTopButton","navCategory","cardsData","initGiftsPage","getGifts","appendCards","onClickCategory","onClickCard","event","card","showModal","clickedElement","categoryId","filteredData","item","transformStringToKebab"],"mappings":"qLAKA,MAAMA,EAAiB,SAAS,cAAc,kBAAkB,EAC1DC,EAAc,SAAS,eAAe,QAAQ,EACpD,IAAIC,EACAC,EAEJ,eAAeC,GAAgB,CAC7BD,EAAY,MAAME,EAAU,EAE5BC,EAAYN,EAAgBG,CAAS,EAErCD,EAAc,SAAS,cAAc,eAAe,EACpDA,EAAY,iBAAiB,QAASK,CAAe,EAEjD,OAAO,QAAU,MACnBN,EAAY,MAAM,QAAU,QAG9B,OAAO,iBAAiB,SAAU,IAAM,CAClC,OAAO,YAAc,MACnB,OAAO,QAAU,IACnBA,EAAY,MAAM,QAAU,QAE5BA,EAAY,MAAM,QAAU,OAGpC,CAAG,EAED,OAAO,iBAAiB,SAAU,IAAM,CAClC,OAAO,QAAU,MACnBA,EAAY,MAAM,QAAU,OAElC,CAAG,EAEDA,EAAY,iBAAiB,QAAS,IAAM,CAC1C,OAAO,SAAS,CACd,IAAK,EACL,SAAU,QAChB,CAAK,CACL,CAAG,CACH,CAEID,IACFI,EAAe,EACfJ,EAAe,iBAAiB,QAASQ,CAAW,GAGtD,SAASA,EAAYC,EAAO,CAC1B,MAAMC,EAAOD,EAAM,OAAO,QAAQ,OAAO,EACrCC,EAAK,QAAQ,QAAU,aACzBC,EAAUD,CAAI,CAElB,CAEA,MAAMH,EAAmBE,GAAU,CACjC,MAAMG,EAAiBH,EAAM,OAE7B,GAAIG,EAAe,UAAY,KAAM,OAErC,MAAMC,EAAaD,EAAe,GAE5BE,EAAeD,IAAe,MAChCV,EACAA,EAAU,OAAOY,GAAQC,EAAuBD,EAAK,QAAQ,IAAMF,CAAU,EAEjF,SAAS,iBAAiB,WAAW,EAAE,QAAQE,GAAQA,EAAK,UAAU,OAAO,QAAQ,CAAC,EACtFH,EAAe,UAAU,IAAI,QAAQ,EAErCZ,EAAe,UAAY,GAC3BM,EAAYN,EAAgBc,CAAY,CAC1C"}